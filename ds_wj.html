<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—¥å¸¸ä¹ æƒ¯ä¸åå¥½è°ƒæŸ¥ ğŸ“Š</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f0f7ff;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            background-image: radial-gradient(#c9e6ff 1.5px, transparent 1.5px), radial-gradient(#c9e6ff 1.5px, transparent 1.5px);
            background-size: 60px 60px;
            background-position: 0 0, 30px 30px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 150, 0.1);
            padding: 40px;
            position: relative;
            overflow: hidden;
        }
        
        .container::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57, #ff9ff3, #54a0ff);
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        h1 {
            color: #2d3436;
            font-size: 2.5rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .subtitle {
            color: #636e72;
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 25px;
        }
        
        .progress-container {
            background-color: #e8f4fc;
            height: 12px;
            border-radius: 6px;
            margin: 30px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #4ecdc4, #45b7d1);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 6px;
        }
        
        .progress-text {
            text-align: center;
            margin-bottom: 10px;
            color: #636e72;
            font-weight: 600;
        }
        
        .question-container {
            background-color: #f8fafd;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border-left: 5px solid #45b7d1;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.03);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .question-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.06);
        }
        
        .question-number {
            display: inline-block;
            background-color: #45b7d1;
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            text-align: center;
            line-height: 36px;
            font-weight: bold;
            margin-bottom: 15px;
        }
        
        .question-text {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: #2d3436;
        }
        
        .options-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
        }
        
        .option {
            background-color: white;
            border: 2px solid #e8f4fc;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
        }
        
        .option:hover {
            background-color: #f0f7ff;
            border-color: #45b7d1;
            transform: translateX(5px);
        }
        
        .option.selected {
            background-color: #e1f7f5;
            border-color: #4ecdc4;
            box-shadow: 0 5px 15px rgba(69, 179, 209, 0.1);
        }
        
        .option-emoji {
            font-size: 1.8rem;
            margin-right: 15px;
            width: 40px;
            text-align: center;
        }
        
        .option-text {
            font-size: 1.05rem;
        }
        
        .buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
        }
        
        button {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        #prevBtn {
            background-color: #f8f9fa;
            color: #495057;
            border: 2px solid #dee2e6;
        }
        
        #prevBtn:hover:not(:disabled) {
            background-color: #e9ecef;
        }
        
        #nextBtn {
            background-color: #4ecdc4;
            color: white;
        }
        
        #nextBtn:hover:not(:disabled) {
            background-color: #3dbab1;
            transform: translateY(-3px);
            box-shadow: 0 7px 14px rgba(78, 205, 196, 0.3);
        }
        
        #submitBtn {
            background: linear-gradient(90deg, #ff6b6b, #ff9ff3);
            color: white;
            display: none;
        }
        
        #submitBtn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 7px 14px rgba(255, 107, 107, 0.3);
        }
        
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }
        
        .footer-note {
            text-align: center;
            margin-top: 40px;
            color: #636e72;
            font-size: 0.9rem;
            padding-top: 20px;
            border-top: 1px solid #e8f4fc;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 25px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .options-container {
                grid-template-columns: 1fr;
            }
            
            .buttons {
                flex-direction: column;
                gap: 15px;
            }
            
            button {
                width: 100%;
            }
        }
        
        /* ç»“æœé¡µé¢æ ·å¼ */
        .results-container {
            display: none;
            padding: 40px 20px;
        }
        
        .results-title {
            font-size: 2.5rem;
            margin-bottom: 30px;
            color: #2d3436;
            text-align: center;
        }
        
        .results-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }
        
        .results-emoji {
            font-size: 5rem;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        .results-message {
            font-size: 1.5rem;
            margin-bottom: 40px;
            color: #636e72;
            line-height: 1.8;
        }
        
        .results-details {
            background-color: #f8fafd;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border-left: 5px solid #ff6b6b;
        }
        
        .results-section {
            margin-bottom: 30px;
        }
        
        .section-title {
            font-size: 1.5rem;
            color: #2d3436;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-content {
            font-size: 1.1rem;
            color: #636e72;
            line-height: 1.6;
        }
        
        .personality-type {
            display: inline-block;
            background-color: #4ecdc4;
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .stat-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e8f4fc;
        }
        
        .stat-label {
            font-weight: 600;
            color: #2d3436;
        }
        
        .stat-value {
            color: #45b7d1;
            font-weight: bold;
        }
        
        .fun-fact {
            background-color: #fff9e6;
            border-left: 5px solid #feca57;
            padding: 15px;
            border-radius: 0 10px 10px 0;
            margin: 20px 0;
        }
        
        .fun-fact-title {
            font-weight: bold;
            color: #e67e22;
            margin-bottom: 5px;
        }
        
        .recommendation {
            background-color: #e8f6f3;
            border-left: 5px solid #4ecdc4;
            padding: 15px;
            border-radius: 0 10px 10px 0;
            margin: 20px 0;
        }
        
        .recommendation-title {
            font-weight: bold;
            color: #16a085;
            margin-bottom: 5px;
        }
        
        .restart-btn {
            background: linear-gradient(90deg, #54a0ff, #5f27cd);
            color: white;
            margin: 30px auto;
            display: block;
        }
        
        .question-counter {
            text-align: center;
            margin-bottom: 5px;
            color: #45b7d1;
            font-weight: bold;
        }
        
        .validation-message {
            color: #ff6b6b;
            text-align: center;
            margin-top: 15px;
            font-weight: bold;
            min-height: 24px;
        }
        
        .share-results {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
        }
        
        .share-btn {
            background-color: #f8f9fa;
            border: 2px solid #dee2e6;
            color: #495057;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .share-btn:hover {
            background-color: #e9ecef;
            transform: translateY(-3px);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“Š æ—¥å¸¸ä¹ æƒ¯ä¸åå¥½è°ƒæŸ¥ ğŸ“‹</h1>
            <p class="subtitle">æœ¬é—®å·æ—¨åœ¨äº†è§£æ‚¨çš„æ—¥å¸¸ç”Ÿæ´»ä¹ æƒ¯ä¸åå¥½ï¼Œå¸®åŠ©æˆ‘ä»¬æ”¹è¿›æœåŠ¡ã€‚è¯·æ ¹æ®æ‚¨çš„å®é™…æƒ…å†µé€‰æ‹©æœ€ç¬¦åˆçš„é€‰é¡¹ã€‚æ‰€æœ‰æ•°æ®ä»…ç”¨äºç»Ÿè®¡åˆ†æï¼Œæˆ‘ä»¬å°†ä¸¥æ ¼ä¿å¯†ã€‚</p>
            <p class="question-counter">é—®é¢˜ <span id="current-question">1</span> / 30</p>
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
        </header>
        
        <form id="survey-form">
            <!-- é—®é¢˜å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
        </form>
        
        <div class="validation-message" id="validation-message"></div>
        
        <div class="buttons">
            <button type="button" id="prevBtn" disabled>
                <span>â—€ï¸</span> ä¸Šä¸€é¢˜
            </button>
            <button type="button" id="nextBtn">
                ä¸‹ä¸€é¢˜ <span>â–¶ï¸</span>
            </button>
            <button type="button" id="submitBtn">
                <span>ğŸš€</span> æäº¤é—®å·
            </button>
        </div>
        
        <!-- ç»“æœé¡µé¢ -->
        <div class="results-container" id="results-container">
            <h2 class="results-title" id="results-title">ğŸ“‹ è°ƒæŸ¥ç»“æœåˆ†æå®Œæˆï¼ ğŸ‰</h2>
            
            <div class="results-header">
                <div class="results-emoji" id="results-emoji">ğŸ¤”</div>
                <div>
                    <div class="personality-type" id="personality-type">æœªçŸ¥äººæ ¼ç±»å‹</div>
                    <p id="completion-time">å®Œæˆæ—¶é—´: è®¡ç®—ä¸­...</p>
                </div>
            </div>
            
            <div class="results-message" id="results-message">
                æ­£åœ¨åˆ†ææ‚¨çš„ç­”æ¡ˆ...
            </div>
            
            <div class="results-details">
                <div class="results-section">
                    <h3 class="section-title">ğŸ“ˆ å›ç­”ç»Ÿè®¡</h3>
                    <div id="stats-container">
                        <!-- ç»Ÿè®¡ä¿¡æ¯å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
                
                <div class="results-section">
                    <h3 class="section-title">ğŸ” æ·±åº¦åˆ†æ</h3>
                    <div id="deep-analysis">
                        <!-- æ·±åº¦åˆ†æå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
                
                <div class="results-section">
                    <h3 class="section-title">ğŸŒŸ äººæ ¼ç”»åƒ</h3>
                    <div id="personality-portrait">
                        <!-- äººæ ¼ç”»åƒå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
                
                <div id="fun-facts-container">
                    <!-- è¶£å‘³äº‹å®å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
                
                <div class="results-section">
                    <h3 class="section-title">ğŸ’¡ ä¸ªæ€§åŒ–å»ºè®®</h3>
                    <div id="recommendations">
                        <!-- å»ºè®®å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
            </div>
            
            <div class="share-results">
                <button class="share-btn" id="share-twitter">
                    <span>ğŸ¦</span> åˆ†äº«åˆ°Twitter
                </button>
                <button class="share-btn" id="share-facebook">
                    <span>ğŸ“˜</span> åˆ†äº«åˆ°Facebook
                </button>
                <button class="share-btn" id="copy-link">
                    <span>ğŸ”—</span> å¤åˆ¶ç»“æœé“¾æ¥
                </button>
            </div>
            
            <button class="restart-btn" id="restartBtn">
                <span>ğŸ”„</span> é‡æ–°å¼€å§‹è°ƒæŸ¥
            </button>
        </div>
        
        <p class="footer-note">æœ¬è°ƒæŸ¥ç”±å›½é™…ä¹ æƒ¯ç ”ç©¶åä¼šå‘èµ·ï¼Œæ„Ÿè°¢æ‚¨çš„å‚ä¸ï¼ ğŸ’«</p>
    </div>

    <script>
        // è°ƒæŸ¥é—®é¢˜æ•°æ® - ä»æ­£å¸¸åˆ°è¶Šæ¥è¶Šå¥‡æ€ª
        const surveyQuestions = [
            // å‰10ä¸ªï¼šçœ‹ä¼¼æ­£å¸¸çš„é—®é¢˜
            {
                text: "æ‚¨æ¯å¤©æ—©ä¸Šèµ·åºŠåçš„ç¬¬ä¸€ä»¶äº‹æ˜¯ä»€ä¹ˆï¼Ÿâ˜€ï¸",
                options: [
                    { text: "æŸ¥çœ‹æ‰‹æœºé€šçŸ¥ ğŸ“±", emoji: "ğŸ“±" },
                    { text: "åˆ·ç‰™æ´—è„¸ ğŸª¥", emoji: "ğŸª¥" },
                    { text: "å–ä¸€æ¯æ°´ ğŸ’§", emoji: "ğŸ’§" },
                    { text: "ç»§ç»­èººäº”åˆ†é’Ÿ ğŸ˜´", emoji: "ğŸ˜´" }
                ]
            },
            {
                text: "æ‚¨é€šå¸¸å¦‚ä½•å®‰æ’æ—©é¤ï¼ŸğŸ³",
                options: [
                    { text: "åœ¨å®¶å‡†å¤‡å¥åº·æ—©é¤ ğŸ¥—", emoji: "ğŸ¥—" },
                    { text: "è·¯ä¸Šä¹°å¿«é¤è§£å†³ ğŸ¥", emoji: "ğŸ¥" },
                    { text: "å¶å°”åƒï¼Œç»å¸¸è·³è¿‡ ğŸš«", emoji: "ğŸš«" },
                    { text: "åªå–å’–å•¡æˆ–èŒ¶ â˜•", emoji: "â˜•" }
                ]
            },
            {
                text: "æ‚¨é€šå‹¤çš„ä¸»è¦æ–¹å¼æ˜¯ä»€ä¹ˆï¼ŸğŸš—",
                options: [
                    { text: "è‡ªé©¾è½¦/å‡ºç§Ÿè½¦ ğŸš—", emoji: "ğŸš—" },
                    { text: "å…¬å…±äº¤é€š ğŸšŒ", emoji: "ğŸšŒ" },
                    { text: "æ­¥è¡Œæˆ–éª‘è¡Œ ğŸš¶", emoji: "ğŸš¶" },
                    { text: "åœ¨å®¶å·¥ä½œ ğŸ ", emoji: "ğŸ " }
                ]
            },
            {
                text: "æ‚¨æ¯å¤©ä½¿ç”¨æ‰‹æœºçš„æ—¶é—´å¤§çº¦æ˜¯ï¼ŸğŸ“±",
                options: [
                    { text: "å°‘äº2å°æ—¶ â³", emoji: "â³" },
                    { text: "2-4å°æ—¶ ğŸ“Š", emoji: "ğŸ“Š" },
                    { text: "4-6å°æ—¶ ğŸ”„", emoji: "ğŸ”„" },
                    { text: "6å°æ—¶ä»¥ä¸Š ğŸ”¥", emoji: "ğŸ”¥" }
                ]
            },
            {
                text: "æ‚¨æ›´å–œæ¬¢å“ªç§ç¤¾äº¤æ´»åŠ¨ï¼ŸğŸ‰",
                options: [
                    { text: "å°å‹æœ‹å‹èšä¼š ğŸ‘¥", emoji: "ğŸ‘¥" },
                    { text: "å¤§å‹æ´¾å¯¹ ğŸŠ", emoji: "ğŸŠ" },
                    { text: "æˆ·å¤–è¿åŠ¨ ğŸƒ", emoji: "ğŸƒ" },
                    { text: "ç‹¬è‡ªåœ¨å®¶çœ‹ç”µå½± ğŸ¬", emoji: "ğŸ¬" }
                ]
            },
            {
                text: "æ‚¨å¦‚ä½•å¤„ç†å‹åŠ›ï¼ŸğŸ˜¥",
                options: [
                    { text: "è¿åŠ¨é”»ç‚¼ ğŸ’ª", emoji: "ğŸ’ª" },
                    { text: "ä¸æœ‹å‹èŠå¤© ğŸ’¬", emoji: "ğŸ’¬" },
                    { text: "äº«å—ç¾é£Ÿ ğŸ°", emoji: "ğŸ°" },
                    { text: "çœ‹ç”µå½±/ç©æ¸¸æˆ ğŸ®", emoji: "ğŸ®" }
                ]
            },
            {
                text: "æ‚¨æ¯å‘¨é”»ç‚¼çš„é¢‘ç‡æ˜¯ï¼ŸğŸ‹ï¸",
                options: [
                    { text: "å‡ ä¹æ¯å¤© ğŸ”¥", emoji: "ğŸ”¥" },
                    { text: "3-4æ¬¡ âœ…", emoji: "âœ…" },
                    { text: "1-2æ¬¡ ğŸ“…", emoji: "ğŸ“…" },
                    { text: "å¾ˆå°‘æˆ–ä»ä¸ ğŸ›‹ï¸", emoji: "ğŸ›‹ï¸" }
                ]
            },
            {
                text: "æ‚¨æ›´å–œæ¬¢å“ªç§ä¼‘é—²æ–¹å¼ï¼ŸğŸŒ´",
                options: [
                    { text: "æ—…è¡Œæ¢ç´¢æ–°åœ°æ–¹ âœˆï¸", emoji: "âœˆï¸" },
                    { text: "åœ¨å®¶ä¼‘æ¯æ”¾æ¾ ğŸ›‹ï¸", emoji: "ğŸ›‹ï¸" },
                    { text: "å­¦ä¹ æ–°æŠ€èƒ½ ğŸ“š", emoji: "ğŸ“š" },
                    { text: "åˆ›æ„æ´»åŠ¨ ğŸ¨", emoji: "ğŸ¨" }
                ]
            },
            {
                text: "æ‚¨å¦‚ä½•æè¿°æ‚¨çš„ç¡çœ è´¨é‡ï¼ŸğŸ˜´",
                options: [
                    { text: "å¾ˆå¥½ï¼Œä¸€è§‰åˆ°å¤©äº® ğŸŒŸ", emoji: "ğŸŒŸ" },
                    { text: "ä¸€èˆ¬ï¼Œå¶å°”é†’æ¥ ğŸ”„", emoji: "ğŸ”„" },
                    { text: "è¾ƒå·®ï¼Œç»å¸¸å¤±çœ  ğŸŒ™", emoji: "ğŸŒ™" },
                    { text: "ä¸è§„å¾‹ï¼Œæ—¶å¥½æ—¶å ğŸ“‰", emoji: "ğŸ“‰" }
                ]
            },
            {
                text: "æ‚¨é€šå¸¸å‡ ç‚¹ç¡è§‰ï¼ŸğŸ•™",
                options: [
                    { text: "æ™šä¸Š10ç‚¹å‰ ğŸŒœ", emoji: "ğŸŒœ" },
                    { text: "æ™šä¸Š10-12ç‚¹ â°", emoji: "â°" },
                    { text: "å‡Œæ™¨12-2ç‚¹ ğŸŒ™", emoji: "ğŸŒ™" },
                    { text: "å‡Œæ™¨2ç‚¹å ğŸ¦‰", emoji: "ğŸ¦‰" }
                ]
            },
            // ä¸­é—´10ä¸ªï¼šå¼€å§‹å˜å¾—æœ‰ç‚¹å¥‡æ€ª
            {
                text: "å¦‚æœå˜æˆåŠ¨ç‰©ï¼Œæ‚¨å¸Œæœ›æˆä¸ºä»€ä¹ˆï¼ŸğŸ¾",
                options: [
                    { text: "è‡ªç”±ç¿±ç¿”çš„é¹° ğŸ¦…", emoji: "ğŸ¦…" },
                    { text: "ä¼˜é›…æ•æ·çš„çŒ« ğŸ±", emoji: "ğŸ±" },
                    { text: "èªæ˜å‹å–„çš„æµ·è±š ğŸ¬", emoji: "ğŸ¬" },
                    { text: "ç¼“æ…¢åšå®šçš„ä¹Œé¾Ÿ ğŸ¢", emoji: "ğŸ¢" }
                ]
            },
            {
                text: "æ‚¨ç›¸ä¿¡å¤–æ˜Ÿç”Ÿå‘½å­˜åœ¨å—ï¼ŸğŸ‘½",
                options: [
                    { text: "ç»å¯¹ç›¸ä¿¡ ğŸŒŒ", emoji: "ğŸŒŒ" },
                    { text: "æœ‰å¯èƒ½ ğŸª", emoji: "ğŸª" },
                    { text: "ä¸å¤ªå¯èƒ½ ğŸ¤·", emoji: "ğŸ¤·" },
                    { text: "å®Œå…¨ä¸ç›¸ä¿¡ ğŸš«", emoji: "ğŸš«" }
                ]
            },
            {
                text: "å¦‚æœæ‚¨æœ‰è¶…èƒ½åŠ›ï¼Œæ‚¨æƒ³è¦ä»€ä¹ˆï¼ŸğŸ¦¸",
                options: [
                    { text: "é£è¡Œèƒ½åŠ› ğŸ¦…", emoji: "ğŸ¦…" },
                    { text: "æ—¶é—´åœæ­¢ â¸ï¸", emoji: "â¸ï¸" },
                    { text: "è¯»å¿ƒæœ¯ ğŸ§ ", emoji: "ğŸ§ " },
                    { text: "ç¬é—´ç§»åŠ¨ âœ¨", emoji: "âœ¨" }
                ]
            },
            {
                text: "æ‚¨è®¤ä¸ºäº‘æœµå°èµ·æ¥åƒä»€ä¹ˆï¼Ÿâ˜ï¸",
                options: [
                    { text: "æ£‰èŠ±ç³– ğŸ¬", emoji: "ğŸ¬" },
                    { text: "å†°æ¿€å‡Œ ğŸ¦", emoji: "ğŸ¦" },
                    { text: "ç©ºæ°” ğŸŒ¬ï¸", emoji: "ğŸŒ¬ï¸" },
                    { text: "ç¾Šæ¯› ğŸ‘", emoji: "ğŸ‘" }
                ]
            },
            {
                text: "å¦‚æœé¢œè‰²æœ‰å£°éŸ³ï¼Œçº¢è‰²å¬èµ·æ¥åƒï¼ŸğŸ”´",
                options: [
                    { text: "æ¿€æ˜‚çš„å°å· ğŸº", emoji: "ğŸº" },
                    { text: "è­¦æŠ¥å£° ğŸš¨", emoji: "ğŸš¨" },
                    { text: "å¿ƒè·³å£° ğŸ’—", emoji: "ğŸ’—" },
                    { text: "æ‘‡æ»šå‰ä»– ğŸ¸", emoji: "ğŸ¸" }
                ]
            },
            {
                text: "æ‚¨è®¤ä¸ºæ¾é¼ åœ¨æ€è€ƒä»€ä¹ˆï¼ŸğŸ¿ï¸",
                options: [
                    { text: "å¦‚ä½•å‚¨å­˜æ›´å¤šåšæœ ğŸŒ°", emoji: "ğŸŒ°" },
                    { text: "äººç±»ä¸ºä»€ä¹ˆè¿™ä¹ˆå¥‡æ€ª ğŸ¤”", emoji: "ğŸ¤”" },
                    { text: "æ˜å¤©å¤©æ°”å¦‚ä½• â˜€ï¸", emoji: "â˜€ï¸" },
                    { text: "å¦‚ä½•ç»Ÿæ²»å…¬å›­ ğŸ‘‘", emoji: "ğŸ‘‘" }
                ]
            },
            {
                text: "å¦‚æœæ‚¨çš„ä¸€å¤©æœ‰25å°æ—¶ï¼Œå¤šçš„ä¸€å°æ—¶ç”¨æ¥ï¼ŸğŸ•",
                options: [
                    { text: "å¤šç¡ä¸€ä¼šå„¿ ğŸ˜´", emoji: "ğŸ˜´" },
                    { text: "å­¦ä¹ æ–°ä¸œè¥¿ ğŸ“š", emoji: "ğŸ“š" },
                    { text: "ä¸å®¶äººæœ‹å‹ç›¸å¤„ ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦", emoji: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦" },
                    { text: "æ€è€ƒäººç”Ÿçš„æ„ä¹‰ ğŸ¤¯", emoji: "ğŸ¤¯" }
                ]
            },
            {
                text: "æ‚¨è®¤ä¸ºæ¤ç‰©ä¼šåšæ¢¦å—ï¼ŸğŸŒ±",
                options: [
                    { text: "å½“ç„¶ï¼Œæ¢¦åˆ°é˜³å…‰å’Œé›¨æ°´ â˜€ï¸", emoji: "â˜€ï¸" },
                    { text: "å¯èƒ½ï¼Œä½†æˆ‘ä»¬æ— æ³•çŸ¥é“ ğŸ¤«", emoji: "ğŸ¤«" },
                    { text: "ä¸ä¼šï¼Œæ¤ç‰©æ²¡æœ‰å¤§è„‘ ğŸ§ ", emoji: "ğŸ§ " },
                    { text: "å®ƒä»¬æ¢¦åˆ°æˆä¸ºå¤§æ ‘ ğŸŒ³", emoji: "ğŸŒ³" }
                ]
            },
            {
                text: "å¦‚æœæ‚¨çš„é‹å­ä¼šè¯´è¯ï¼Œå®ƒä»¬ä¼šè¯´ä»€ä¹ˆï¼ŸğŸ‘Ÿ",
                options: [
                    { text: "è¯·ç»™æˆ‘æ¸…æ´ä¸€ä¸‹ï¼ ğŸ§¼", emoji: "ğŸ§¼" },
                    { text: "ä»Šå¤©è¦å»å“ªé‡Œï¼Ÿ ğŸ—ºï¸", emoji: "ğŸ—ºï¸" },
                    { text: "æˆ‘ç´¯äº†ï¼Œè®©æˆ‘ä»¬ä¼‘æ¯å§ ğŸ˜ª", emoji: "ğŸ˜ª" },
                    { text: "æˆ‘è§è¿‡æ‚¨æœ€å°´å°¬çš„æ—¶åˆ» ğŸ¤«", emoji: "ğŸ¤«" }
                ]
            },
            {
                text: "æ‚¨è®¤ä¸ºå½±å­æœ‰ç‹¬ç«‹æ„è¯†å—ï¼ŸğŸ‘¤",
                options: [
                    { text: "æœ‰ï¼Œå®ƒä»¬åœ¨å·å·è§‚å¯Ÿæˆ‘ä»¬ ğŸ‘€", emoji: "ğŸ‘€" },
                    { text: "åªåœ¨ç‰¹å®šæ¡ä»¶ä¸‹ ğŸŒ“", emoji: "ğŸŒ“" },
                    { text: "æ²¡æœ‰ï¼Œåªæ˜¯å…‰å­¦ç°è±¡ ğŸ’¡", emoji: "ğŸ’¡" },
                    { text: "å®ƒä»¬æ¸´æœ›æˆä¸ºå®ä½“ ğŸ‘»", emoji: "ğŸ‘»" }
                ]
            },
            // æœ€å10ä¸ªï¼šå®Œå…¨ä¸åˆ‡é¢˜ï¼Œè«åå…¶å¦™
            {
                text: "ä¼é¹…ä¸ºä»€ä¹ˆç©¿ç‡•å°¾æœï¼ŸğŸ§",
                options: [
                    { text: "å‡†å¤‡å‚åŠ æåœ°æ´¾å¯¹ ğŸ©", emoji: "ğŸ©" },
                    { text: "å®ƒä»¬æœ‰é‡è¦çš„ä¼šè®® ğŸ“…", emoji: "ğŸ“…" },
                    { text: "è¿™æ˜¯ä¼é¹…çš„æ—¶å°šå®£è¨€ ğŸ‘”", emoji: "ğŸ‘”" },
                    { text: "ä¸ºäº†ä¼ªè£…æˆæœåŠ¡å‘˜ ğŸ½ï¸", emoji: "ğŸ½ï¸" }
                ]
            },
            {
                text: "é¦™è•‰æ˜¯ä»€ä¹ˆæƒ…ç»ªï¼ŸğŸŒ",
                options: [
                    { text: "å¿«ä¹ä½†æ˜“è…çƒ‚çš„ ğŸ˜Š", emoji: "ğŸ˜Š" },
                    { text: "å¼¯æ›²çš„å¿§éƒ ğŸµ", emoji: "ğŸµ" },
                    { text: "æˆç†Ÿçš„ç„¦è™‘ ğŸ•°ï¸", emoji: "ğŸ•°ï¸" },
                    { text: "é»„è‰²çš„ä¸­æ€§æƒ…ç»ª ğŸŸ¡", emoji: "ğŸŸ¡" }
                ]
            },
            {
                text: "å¦‚æœæ‚¨æ˜¯ä¸€ä¸ªæ•å¤´ï¼Œæ‚¨æƒ³å¯¹ç¡è§‰çš„äººè¯´ä»€ä¹ˆï¼ŸğŸ›ï¸",
                options: [
                    { text: "è¯·æµå£æ°´åˆ°å¦ä¸€è¾¹ ğŸ¤¤", emoji: "ğŸ¤¤" },
                    { text: "æ‚¨çš„å¤´å‘æ‰åˆ°æˆ‘äº† ğŸ’‡", emoji: "ğŸ’‡" },
                    { text: "æ˜å¤©è®°å¾—æŠŠæˆ‘æ‹æ¾ âœ¨", emoji: "âœ¨" },
                    { text: "æ‚¨çš„æ¢¦å¤ªé‡äº† ğŸ’­", emoji: "ğŸ’­" }
                ]
            },
            {
                text: "ä¸ºä»€ä¹ˆèŠéº»è¡—çš„é¥¼å¹²æ€ªå…½æ˜¯è“è‰²çš„ï¼ŸğŸª",
                options: [
                    { text: "åƒäº†å¤ªå¤šè“è‰²é¥¼å¹² ğŸ”µ", emoji: "ğŸ”µ" },
                    { text: "å®ƒæ˜¯è“è°ƒéŸ³ä¹çˆ±å¥½è€… ğŸµ", emoji: "ğŸµ" },
                    { text: "ä»£è¡¨å¿§éƒçš„é¥¥é¥¿æƒ…ç»ª ğŸ˜”", emoji: "ğŸ˜”" },
                    { text: "è®¾è®¡å¸ˆçš„å½©è‰²é“…ç¬”ç”¨å®Œäº† âœï¸", emoji: "âœï¸" }
                ]
            },
            {
                text: "å¦‚æœæ²‰é»˜æœ‰é¢œè‰²ï¼Œå®ƒä¼šæ˜¯ï¼ŸğŸ¤«",
                options: [
                    { text: "æµ…ç°è‰²ï¼Œåƒæ™¨é›¾ ğŸŒ«ï¸", emoji: "ğŸŒ«ï¸" },
                    { text: "æ·±è“è‰²ï¼Œåƒåˆå¤œ ğŸŒŒ", emoji: "ğŸŒŒ" },
                    { text: "é€æ˜ä½†æœ‰çº¹ç† ğŸ«§", emoji: "ğŸ«§" },
                    { text: "ä¸æ–­å˜åŒ–çš„è™¹å½©è‰² ğŸŒˆ", emoji: "ğŸŒˆ" }
                ]
            },
            {
                text: "èœ—ç‰›å¦‚ä½•å†³å®šå£³çš„è®¾è®¡ï¼ŸğŸŒ",
                options: [
                    { text: "æ ¹æ®å¿ƒæƒ…æ¯å¤©å˜åŒ– ğŸ¨", emoji: "ğŸ¨" },
                    { text: "å®¶æ—é—ä¼ çš„èºæ—‹çº¹ ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦", emoji: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦" },
                    { text: "æ ¹æ®çˆ¬è¡Œè·¯çº¿å®šåˆ¶ ğŸ—ºï¸", emoji: "ğŸ—ºï¸" },
                    { text: "ä¸æœˆç›¸å‘¨æœŸç›¸å…³ ğŸŒ™", emoji: "ğŸŒ™" }
                ]
            },
            {
                text: "ä¸ºä»€ä¹ˆæˆ‘ä»¬æ‰“å–·åšæ—¶é—­ä¸Šçœ¼ç›ï¼ŸğŸ¤§",
                options: [
                    { text: "é˜²æ­¢çœ¼çƒè¢«å–·å‡º ğŸ‘€", emoji: "ğŸ‘€" },
                    { text: "ç»™é¼»å­é›†ä¸­åŠ›é‡ ğŸ’ª", emoji: "ğŸ’ª" },
                    { text: "å¤§è„‘çš„ç´§æ€¥åè®® ğŸ§ ", emoji: "ğŸ§ " },
                    { text: "çŸ­æš‚çš„å†¥æƒ³æ—¶åˆ» ğŸ§˜", emoji: "ğŸ§˜" }
                ]
            },
            {
                text: "å¦‚æœæ˜ŸæœŸä¸‰æ˜¯ä¸ªäººï¼Œå®ƒä¼šæ˜¯ä»€ä¹ˆæ€§æ ¼ï¼ŸğŸ“…",
                options: [
                    { text: "ä¸­åº¸çš„å¹³è¡¡è€… âš–ï¸", emoji: "âš–ï¸" },
                    { text: "æ¸´æœ›å‘¨æœ«çš„ç„¦è™‘è€… ğŸ˜Ÿ", emoji: "ğŸ˜Ÿ" },
                    { text: "è¢«ä½ä¼°çš„æ½œåŠ›è‚¡ ğŸ’", emoji: "ğŸ’" },
                    { text: "å‘¨ä¸€çš„è¿œæˆ¿è¡¨äº² ğŸ‘¨â€ğŸ‘¦", emoji: "ğŸ‘¨â€ğŸ‘¦" }
                ]
            },
            {
                text: "å¾®æ³¢ç‚‰åŠ çƒ­æ—¶é£Ÿç‰©åœ¨è®¨è®ºä»€ä¹ˆï¼ŸğŸ•",
                options: [
                    { text: "æ—‹è½¬å¸¦æ¥çš„æ™•çœ©æ„Ÿ ğŸŒ€", emoji: "ğŸŒ€" },
                    { text: "ç”µç£æ³¢çš„æŒ‰æ‘©æ•ˆæœ ğŸ’†", emoji: "ğŸ’†" },
                    { text: "å¦‚ä½•å‡åŒ€å—çƒ­çš„ç­–ç•¥ â™Ÿï¸", emoji: "â™Ÿï¸" },
                    { text: "äººç±»å¯¹æ—¶é—´çš„å¥‡æ€ªæ„ŸçŸ¥ â±ï¸", emoji: "â±ï¸" }
                ]
            },
            {
                text: "æœ€åä¸€ä¸ªé—®é¢˜ï¼šè¿™ä¸ªè°ƒæŸ¥æœ‰ä»€ä¹ˆæ„ä¹‰ï¼ŸğŸ¤¨",
                options: [
                    { text: "æ­ç¤ºæ½œæ„è¯†çš„åå¥½ ğŸ§ ", emoji: "ğŸ§ " },
                    { text: "æµ‹è¯•è’è°¬çš„è€å—åŠ› ğŸ­", emoji: "ğŸ­" },
                    { text: "æ”¶é›†éšæœºæ•°æ®ç‚¹ ğŸ“Š", emoji: "ğŸ“Š" },
                    { text: "å…¶å®æ²¡æœ‰ä»»ä½•æ„ä¹‰ ğŸ«¥", emoji: "ğŸ«¥" }
                ]
            }
        ];

        // å½“å‰é—®é¢˜ç´¢å¼•
        let currentQuestionIndex = 0;
        // å­˜å‚¨ç”¨æˆ·ç­”æ¡ˆ
        const userAnswers = new Array(surveyQuestions.length).fill(null);
        // è®°å½•å¼€å§‹æ—¶é—´
        const startTime = new Date();

        // DOMå…ƒç´ 
        const surveyForm = document.getElementById('survey-form');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const submitBtn = document.getElementById('submitBtn');
        const progressBar = document.getElementById('progress-bar');
        const currentQuestionSpan = document.getElementById('current-question');
        const resultsContainer = document.getElementById('results-container');
        const resultsMessage = document.getElementById('results-message');
        const resultsEmoji = document.getElementById('results-emoji');
        const resultsTitle = document.getElementById('results-title');
        const personalityType = document.getElementById('personality-type');
        const completionTime = document.getElementById('completion-time');
        const statsContainer = document.getElementById('stats-container');
        const deepAnalysis = document.getElementById('deep-analysis');
        const personalityPortrait = document.getElementById('personality-portrait');
        const funFactsContainer = document.getElementById('fun-facts-container');
        const recommendations = document.getElementById('recommendations');
        const restartBtn = document.getElementById('restartBtn');
        const validationMessage = document.getElementById('validation-message');

        // åˆå§‹åŒ–é—®å·
        function initSurvey() {
            displayQuestion(currentQuestionIndex);
            updateProgress();
            updateButtons();
        }

        // æ˜¾ç¤ºé—®é¢˜
        function displayQuestion(index) {
            const question = surveyQuestions[index];
            
            // æ›´æ–°å½“å‰é—®é¢˜ç¼–å·
            currentQuestionSpan.textContent = index + 1;
            
            // åˆ›å»ºé—®é¢˜HTML
            let questionHTML = `
                <div class="question-container">
                    <div class="question-number">${index + 1}</div>
                    <h2 class="question-text">${question.text}</h2>
                    <div class="options-container">
            `;
            
            // æ·»åŠ é€‰é¡¹
            question.options.forEach((option, optionIndex) => {
                const isSelected = userAnswers[index] === optionIndex;
                questionHTML += `
                    <div class="option ${isSelected ? 'selected' : ''}" data-index="${optionIndex}">
                        <div class="option-emoji">${option.emoji}</div>
                        <div class="option-text">${option.text}</div>
                    </div>
                `;
            });
            
            questionHTML += `</div></div>`;
            
            surveyForm.innerHTML = questionHTML;
            
            // ä¸ºé€‰é¡¹æ·»åŠ ç‚¹å‡»äº‹ä»¶
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const selectedIndex = parseInt(this.getAttribute('data-index'));
                    userAnswers[index] = selectedIndex;
                    
                    // ç§»é™¤å…¶ä»–é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
                    document.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // æ·»åŠ å½“å‰é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
                    this.classList.add('selected');
                    
                    // æ¸…é™¤éªŒè¯æ¶ˆæ¯
                    validationMessage.textContent = "";
                    
                    // æ›´æ–°æŒ‰é’®çŠ¶æ€
                    updateButtons();
                });
            });
        }

        // æ›´æ–°è¿›åº¦æ¡
        function updateProgress() {
            const progress = ((currentQuestionIndex + 1) / surveyQuestions.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // æ›´æ–°æŒ‰é’®çŠ¶æ€
        function updateButtons() {
            // ä¸Šä¸€é¢˜æŒ‰é’®
            prevBtn.disabled = currentQuestionIndex === 0;
            
            // æ£€æŸ¥å½“å‰é—®é¢˜æ˜¯å¦å·²å›ç­”
            const isAnswered = userAnswers[currentQuestionIndex] !== null;
            
            // ä¸‹ä¸€é¢˜æŒ‰é’®
            if (currentQuestionIndex < surveyQuestions.length - 1) {
                nextBtn.disabled = !isAnswered;
                submitBtn.style.display = 'none';
                nextBtn.style.display = 'flex';
            } else {
                // æœ€åä¸€é¢˜
                nextBtn.style.display = 'none';
                submitBtn.style.display = 'flex';
                submitBtn.disabled = !isAnswered;
            }
        }

        // æ˜¾ç¤ºéªŒè¯æ¶ˆæ¯
        function showValidationMessage(message) {
            validationMessage.textContent = message;
            setTimeout(() => {
                validationMessage.textContent = "";
            }, 3000);
        }

        // ä¸Šä¸€é¢˜
        prevBtn.addEventListener('click', function() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion(currentQuestionIndex);
                updateProgress();
                updateButtons();
            }
        });

        // ä¸‹ä¸€é¢˜
        nextBtn.addEventListener('click', function() {
            if (userAnswers[currentQuestionIndex] === null) {
                showValidationMessage("è¯·å…ˆé€‰æ‹©ä¸€ä¸ªé€‰é¡¹ï¼Œç„¶åå†ç»§ç»­ä¸‹ä¸€é¢˜ï¼");
                return;
            }
            
            if (currentQuestionIndex < surveyQuestions.length - 1) {
                currentQuestionIndex++;
                displayQuestion(currentQuestionIndex);
                updateProgress();
                updateButtons();
            }
        });

        // æäº¤é—®å·
        submitBtn.addEventListener('click', function() {
            if (userAnswers[currentQuestionIndex] === null) {
                showValidationMessage("è¯·å…ˆé€‰æ‹©ä¸€ä¸ªé€‰é¡¹ï¼Œç„¶åå†æäº¤é—®å·ï¼");
                return;
            }
            
            // æ£€æŸ¥æ˜¯å¦æ‰€æœ‰é—®é¢˜éƒ½å·²å›ç­”
            const unansweredQuestions = userAnswers.filter(answer => answer === null).length;
            if (unansweredQuestions > 0) {
                const confirmSubmit = confirm(`æ‚¨è¿˜æœ‰ ${unansweredQuestions} ä¸ªé—®é¢˜æœªå›ç­”ã€‚ç¡®å®šè¦æäº¤å—ï¼Ÿ`);
                if (!confirmSubmit) return;
            }
            
            showResults();
        });

        // åˆ†æç”¨æˆ·ç­”æ¡ˆå¹¶ç”Ÿæˆç»“æœ
        function analyzeAnswers() {
            const endTime = new Date();
            const timeDiff = endTime - startTime; // æ¯«ç§’
            const minutes = Math.floor(timeDiff / 60000);
            const seconds = Math.floor((timeDiff % 60000) / 1000);
            
            // è®¡ç®—å®Œæˆæ—¶é—´
            completionTime.textContent = `å®Œæˆæ—¶é—´: ${minutes}åˆ†${seconds}ç§’`;
            
            // è®¡ç®—å·²å›ç­”é—®é¢˜æ•°é‡
            const answeredCount = userAnswers.filter(answer => answer !== null).length;
            const totalQuestions = surveyQuestions.length;
            
            // è®¡ç®—ç­”æ¡ˆåˆ†å¸ƒ
            const answerDistribution = [0, 0, 0, 0];
            userAnswers.forEach(answer => {
                if (answer !== null && answer >= 0 && answer < 4) {
                    answerDistribution[answer]++;
                }
            });
            
            // ç¡®å®šäººæ ¼ç±»å‹ï¼ˆåŸºäºè’è°¬ç¨‹åº¦ï¼‰
            let personalityTypes = [
                { name: "ç†æ€§ç°å®ä¸»ä¹‰è€… ğŸ§®", emoji: "ğŸ§®" },
                { name: "åˆ›æ„æ¢¦æƒ³å®¶ ğŸ¨", emoji: "ğŸ¨" },
                { name: "å“²å­¦æ€è€ƒè€… ğŸ¤”", emoji: "ğŸ¤”" },
                { name: "è’è¯æ¢ç´¢è€… ğŸƒ", emoji: "ğŸƒ" },
                { name: "è¶…ç°å®ä¸»ä¹‰è€… ğŸ¦„", emoji: "ğŸ¦„" }
            ];
            
            // æ ¹æ®ç­”æ¡ˆé€‰æ‹©æ¨¡å¼åˆ¤æ–­äººæ ¼ç±»å‹
            const mostCommonAnswer = answerDistribution.indexOf(Math.max(...answerDistribution));
            const personalityIndex = mostCommonAnswer % personalityTypes.length;
            const userPersonality = personalityTypes[personalityIndex];
            
            personalityType.textContent = userPersonality.name;
            resultsEmoji.textContent = userPersonality.emoji;
            
            // ç”Ÿæˆä¸»è¦ç»“æœæ¶ˆæ¯
            const mainResults = [
                `æ ¹æ®æˆ‘ä»¬çš„é‡å­ç®—æ³•åˆ†æï¼Œæ‚¨çš„æ€ç»´æ¨¡å¼ä¸${userPersonality.name}é«˜åº¦åŒ¹é…ï¼æ‚¨çš„å›ç­”æ­ç¤ºäº†æ‚¨æ½œæ„è¯†ä¸­å¯¹ä¸–ç•Œç‹¬ç‰¹çš„æ„ŸçŸ¥æ–¹å¼ã€‚`,
                `æƒŠäººçš„å‘ç°ï¼æ‚¨çš„ç­”æ¡ˆæ¨¡å¼æ˜¾ç¤ºæ‚¨æ‹¥æœ‰"${userPersonality.name}"ç‰¹è´¨ã€‚è¿™è§£é‡Šäº†ä¸ºä»€ä¹ˆæ‚¨å¯¹æŸäº›é—®é¢˜æœ‰ç‹¬ç‰¹çš„è§è§£ã€‚`,
                `åˆ†æå®Œæˆï¼æˆ‘ä»¬çš„AIè¯†åˆ«å‡ºæ‚¨å±äº"${userPersonality.name}"ç±»å‹ã€‚è¿™ç§äººæ ¼ç±»å‹åœ¨äººç¾¤ä¸­ä»…å 7.3%ï¼Œéå¸¸ç¨€æœ‰ï¼`,
                `è°œé¢˜è§£å¼€ï¼æ‚¨çš„å›ç­”æ¨¡å¼æŒ‡å‘"${userPersonality.name}"äººæ ¼ã€‚è¿™è¡¨æ˜æ‚¨çš„å¤§è„‘å¤„ç†ä¿¡æ¯çš„æ–¹å¼ä¸ä¼—ä¸åŒã€‚`
            ];
            
            resultsMessage.textContent = mainResults[Math.floor(Math.random() * mainResults.length)];
            
            // ç”Ÿæˆç»Ÿè®¡ä¿¡æ¯
            const statsHTML = `
                <div class="stat-item">
                    <span class="stat-label">å®Œæˆé—®é¢˜æ•°é‡</span>
                    <span class="stat-value">${answeredCount}/${totalQuestions}</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">æœ€å–œæ¬¢é€‰é¡¹A</span>
                    <span class="stat-value">${answerDistribution[0]} æ¬¡</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">æœ€å–œæ¬¢é€‰é¡¹B</span>
                    <span class="stat-value">${answerDistribution[1]} æ¬¡</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">æœ€å–œæ¬¢é€‰é¡¹C</span>
                    <span class="stat-value">${answerDistribution[2]} æ¬¡</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">æœ€å–œæ¬¢é€‰é¡¹D</span>
                    <span class="stat-value">${answerDistribution[3]} æ¬¡</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">å®Œæˆé€Ÿåº¦</span>
                    <span class="stat-value">${minutes > 2 ? "è°¨æ…æ€è€ƒå‹" : "å¿«é€Ÿå†³ç­–å‹"}</span>
                </div>
            `;
            
            statsContainer.innerHTML = statsHTML;
            
            // ç”Ÿæˆæ·±åº¦åˆ†æ
            const deepAnalyses = [
                `<p>æ‚¨çš„å›ç­”æ˜¾ç¤ºå‡ºå¼ºçƒˆçš„${minutes > 2 ? "æ·±æ€ç†Ÿè™‘" : "ç›´è§‰é©±åŠ¨"}å€¾å‘ã€‚åœ¨å‰10ä¸ªå¸¸è§„é—®é¢˜ä¸­ï¼Œæ‚¨é€‰æ‹©äº†${answerDistribution[0]+answerDistribution[1] > answerDistribution[2]+answerDistribution[3] ? "ç›¸å¯¹ä¿å®ˆ" : "è¾ƒä¸ºå¼€æ”¾"}çš„é€‰é¡¹ï¼Œä½†åœ¨å20ä¸ªéå¸¸è§„é—®é¢˜ä¸­ï¼Œæ‚¨çš„é€‰æ‹©å˜å¾—æ›´åŠ ${answerDistribution[0]+answerDistribution[1] > answerDistribution[2]+answerDistribution[3] ? "ä¿å®ˆ" : "å¤§èƒ†"}ã€‚</p>`,
                `<p>é€šè¿‡å¯¹æ‚¨ç­”æ¡ˆçš„äº¤å‰åˆ†æï¼Œæˆ‘ä»¬å‘ç°æ‚¨çš„æ€ç»´æ¨¡å¼åœ¨é—®é¢˜15-25ä¹‹é—´å‘ç”Ÿäº†æœ‰è¶£çš„å˜åŒ–ã€‚æ‚¨ä¼¼ä¹å¯¹æ¶‰åŠ"åŠ¨ç‰©"å’Œ"è¶…èƒ½åŠ›"çš„é—®é¢˜è¡¨ç°å‡ºç‰¹åˆ«çš„å…´è¶£ï¼Œè¿™è¡¨æ˜æ‚¨å¯èƒ½${mostCommonAnswer === 0 ? "å…³æ³¨å®ç”¨æ€§å’Œç°å®" : mostCommonAnswer === 1 ? "å¯Œæœ‰æƒ³è±¡åŠ›å’Œåˆ›é€ åŠ›" : mostCommonAnswer === 2 ? "å…·æœ‰å“²å­¦æ€è€ƒå€¾å‘" : "æ‹¥æœ‰ç‹¬ç‰¹çš„å¹½é»˜æ„Ÿ"}ã€‚</p>`,
                `<p>æ•°æ®åˆ†ææ­ç¤ºäº†ä¸€ä¸ªæœ‰è¶£çš„ç°è±¡ï¼šæ‚¨çš„é€‰æ‹©æ¨¡å¼ä¸"${userPersonality.name}"çš„åŸå‹é«˜åº¦å»åˆã€‚è¿™ç§äººæ ¼ç±»å‹çš„å…¸å‹ç‰¹å¾åŒ…æ‹¬ï¼šå¯¹è’è¯é—®é¢˜çš„é«˜å®¹å¿åº¦ã€ç‹¬ç‰¹çš„è§†è§’åˆ‡æ¢èƒ½åŠ›ï¼Œä»¥åŠ${minutes > 3 ? "å¯¹ç»†èŠ‚çš„å¯†åˆ‡å…³æ³¨" : "å¿«é€ŸæŠ“ä½é—®é¢˜æœ¬è´¨çš„èƒ½åŠ›"}ã€‚</p>`
            ];
            
            deepAnalysis.innerHTML = deepAnalyses[Math.floor(Math.random() * deepAnalyses.length)];
            
            // ç”Ÿæˆäººæ ¼ç”»åƒ
            const portraits = [
                `<p>ä½œä¸º${userPersonality.name}ï¼Œæ‚¨å¯èƒ½ï¼š</p>
                 <ul>
                   <li>ç»å¸¸æ€è€ƒåˆ«äººè®¤ä¸º"å¥‡æ€ª"çš„é—®é¢˜</li>
                   <li>åœ¨å¸¸è§„ä¸­å‘ç°éå¸¸è§„çš„è§†è§’</li>
                   <li>å¯¹ç”Ÿæ´»ä¸­çš„å°ç»†èŠ‚æœ‰ç‹¬ç‰¹çš„è§‚å¯Ÿ</li>
                   <li>å–„äºåœ¨è’è¯ä¸­å¯»æ‰¾é€»è¾‘</li>
                   <li>æ‹¥æœ‰ä¸°å¯Œçš„å†…å¿ƒä¸–ç•Œå’Œæƒ³è±¡åŠ›</li>
                 </ul>`,
                `<p>${userPersonality.name}çš„å…¸å‹ç‰¹å¾ï¼š</p>
                 <ul>
                   <li>æ‚¨çš„å¤§è„‘å¯èƒ½åŒæ—¶å¤„ç†å¤šä¸ªçœ‹ä¼¼æ— å…³çš„æƒ³æ³•</li>
                   <li>æ‚¨å¯èƒ½å¯¹é¢œè‰²ã€å£°éŸ³å’Œçº¹ç†æœ‰ç‹¬ç‰¹çš„æ„ŸçŸ¥</li>
                   <li>æ‚¨å¯èƒ½ç»å¸¸æ€è€ƒ"å¦‚æœ...ä¼šæ€æ ·"çš„é—®é¢˜</li>
                   <li>æ‚¨å¯èƒ½å‘ç°æ—¥å¸¸ç”Ÿæ´»ä¸­çš„éšè—æ¨¡å¼</li>
                   <li>æ‚¨å¯èƒ½å¯¹ä¼ ç»Ÿé€»è¾‘å’Œçº¿æ€§æ€ç»´æ„Ÿåˆ°æŸç¼š</li>
                 </ul>`
            ];
            
            personalityPortrait.innerHTML = portraits[Math.floor(Math.random() * portraits.length)];
            
            // ç”Ÿæˆè¶£å‘³äº‹å®
            const funFacts = [
                {
                    title: "ğŸ­ è’è¯è€å—åº¦æ£€æµ‹",
                    content: "æ ¹æ®æ‚¨çš„å›ç­”ï¼Œæ‚¨å¯¹è’è°¬é—®é¢˜çš„è€å—åº¦è¯„åˆ†ä¸º8.7/10ï¼Œé«˜äºå…¨çƒå¹³å‡æ°´å¹³6.2ã€‚"
                },
                {
                    title: "ğŸ¦‰ æ·±å¤œæ€è€ƒè€…æŒ‡æ•°",
                    content: "åŸºäºæ‚¨çš„ç¡çœ ä¹ æƒ¯å›ç­”ï¼Œæ‚¨çš„'æ·±å¤œæ€è€ƒå¥‡æ€ªé—®é¢˜'å¯èƒ½æ€§ä¸º73%ï¼Œæ¯”å¹³å‡å€¼é«˜22%ã€‚"
                },
                {
                    title: "ğŸŒ€ æ€ç»´å‘æ•£åº¦",
                    content: "æ‚¨çš„ç­”æ¡ˆæ˜¾ç¤ºæ€ç»´å‘æ•£åº¦ä¸º4.3ï¼ˆæ»¡åˆ†5ï¼‰ï¼Œè¡¨æ˜æ‚¨æ‹¥æœ‰å¼ºå¤§çš„è”æƒ³å’Œåˆ›é€ åŠ›ã€‚"
                },
                {
                    title: "ğŸª å¹½é»˜æ„Ÿæ£€æµ‹",
                    content: "ç³»ç»Ÿæ£€æµ‹åˆ°æ‚¨çš„å¹½é»˜æ„Ÿåå‘äºè¶…ç°å®å’Œè’è¯é£æ ¼ï¼Œè¿™åœ¨åˆ›æ„äººç¾¤ä¸­è¾ƒä¸ºå¸¸è§ã€‚"
                }
            ];
            
            // éšæœºé€‰æ‹©2-3ä¸ªè¶£å‘³äº‹å®
            const selectedFacts = [];
            const numFacts = 2 + Math.floor(Math.random() * 2);
            const usedIndices = new Set();
            
            while (selectedFacts.length < numFacts && selectedFacts.length < funFacts.length) {
                const randomIndex = Math.floor(Math.random() * funFacts.length);
                if (!usedIndices.has(randomIndex)) {
                    usedIndices.add(randomIndex);
                    selectedFacts.push(funFacts[randomIndex]);
                }
            }
            
            let funFactsHTML = "";
            selectedFacts.forEach(fact => {
                funFactsHTML += `
                    <div class="fun-fact">
                        <div class="fun-fact-title">${fact.title}</div>
                        <div>${fact.content}</div>
                    </div>
                `;
            });
            
            funFactsContainer.innerHTML = funFactsHTML;
            
            // ç”Ÿæˆä¸ªæ€§åŒ–å»ºè®®
            const recommendationList = [
                "å°è¯•æ¯å¤©èŠ±5åˆ†é’Ÿæ€è€ƒä¸€ä¸ªå®Œå…¨è’è°¬çš„é—®é¢˜ï¼Œè¿™èƒ½å¢å¼ºæ‚¨çš„åˆ›é€ åŠ›ã€‚",
                "è€ƒè™‘è®°å½•æ‚¨çš„å¥‡æ€ªæ¢¦å¢ƒï¼Œå®ƒä»¬å¯èƒ½åŒ…å«ç‹¬ç‰¹çš„è§è§£ã€‚",
                "ä¸åŒæ ·å…·æœ‰è’è¯æ€ç»´çš„æœ‹å‹è®¨è®ºå“²å­¦é—®é¢˜ï¼Œå¯èƒ½ä¼šäº§ç”Ÿæœ‰è¶£çš„ç«èŠ±ã€‚",
                "å°è¯•å°†æ—¥å¸¸ç‰©å“æƒ³è±¡æˆæœ‰ç”Ÿå‘½å’Œæ€æƒ³çš„å­˜åœ¨ï¼Œè¿™èƒ½è®­ç»ƒæ‚¨çš„æƒ³è±¡åŠ›ã€‚",
                "é˜…è¯»è¶…ç°å®ä¸»ä¹‰æ–‡å­¦æˆ–è§‚çœ‹è’è¯æ´¾æˆå‰§ï¼Œè¿™èƒ½ä¸°å¯Œæ‚¨çš„æ€ç»´æ¨¡å¼ã€‚",
                "å°è¯•ç”¨éä¼ ç»Ÿçš„è§†è§’è§‚å¯Ÿç†Ÿæ‚‰çš„äº‹ç‰©ï¼Œæ‚¨å¯èƒ½ä¼šå‘ç°éšè—çš„ç¾ä¸½ã€‚"
            ];
            
            // éšæœºé€‰æ‹©2-3ä¸ªå»ºè®®
            const selectedRecommendations = [];
            const numRecs = 2 + Math.floor(Math.random() * 2);
            const usedRecIndices = new Set();
            
            while (selectedRecommendations.length < numRecs && selectedRecommendations.length < recommendationList.length) {
                const randomIndex = Math.floor(Math.random() * recommendationList.length);
                if (!usedRecIndices.has(randomIndex)) {
                    usedRecIndices.add(randomIndex);
                    selectedRecommendations.push(recommendationList[randomIndex]);
                }
            }
            
            let recommendationsHTML = "";
            selectedRecommendations.forEach(rec => {
                recommendationsHTML += `
                    <div class="recommendation">
                        <div>${rec}</div>
                    </div>
                `;
            });
            
            recommendations.innerHTML = recommendationsHTML;
        }

        // æ˜¾ç¤ºç»“æœ
        function showResults() {
            // éšè—é—®å·è¡¨å•å’ŒæŒ‰é’®
            surveyForm.style.display = 'none';
            document.querySelector('.buttons').style.display = 'none';
            document.querySelector('.progress-container').style.display = 'none';
            document.querySelector('.question-counter').style.display = 'none';
            validationMessage.style.display = 'none';
            
            // åˆ†æç­”æ¡ˆå¹¶ç”Ÿæˆç»“æœ
            analyzeAnswers();
            
            // æ˜¾ç¤ºç»“æœå®¹å™¨
            resultsContainer.style.display = 'block';
            
            // æ·»åŠ åˆ†äº«æŒ‰é’®åŠŸèƒ½
            setupShareButtons();
        }

        // è®¾ç½®åˆ†äº«æŒ‰é’®
        function setupShareButtons() {
            // åˆ†äº«åˆ°Twitter
            document.getElementById('share-twitter').addEventListener('click', function() {
                const text = `æˆ‘åˆšå®Œæˆäº†è’è¯é—®å·ï¼Œè¢«é‰´å®šä¸º"${personalityType.textContent}"ï¼ä½ ä¹Ÿæ¥è¯•è¯•å§ï¼`;
                const url = window.location.href;
                window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`, '_blank');
            });
            
            // åˆ†äº«åˆ°Facebook
            document.getElementById('share-facebook').addEventListener('click', function() {
                const url = window.location.href;
                window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`, '_blank');
            });
            
            // å¤åˆ¶ç»“æœé“¾æ¥
            document.getElementById('copy-link').addEventListener('click', function() {
                const url = window.location.href;
                navigator.clipboard.writeText(url).then(() => {
                    alert("ç»“æœé“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼");
                }).catch(err => {
                    alert("å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶ç½‘å€ï¼š" + url);
                });
            });
        }

        // é‡æ–°å¼€å§‹é—®å·
        restartBtn.addEventListener('click', function() {
            // é‡ç½®çŠ¶æ€
            currentQuestionIndex = 0;
            userAnswers.fill(null);
            
            // æ˜¾ç¤ºé—®å·éƒ¨åˆ†
            surveyForm.style.display = 'block';
            document.querySelector('.buttons').style.display = 'flex';
            document.querySelector('.progress-container').style.display = 'block';
            document.querySelector('.question-counter').style.display = 'block';
            validationMessage.style.display = 'block';
            
            // éšè—ç»“æœ
            resultsContainer.style.display = 'none';
            
            // é‡æ–°åˆå§‹åŒ–
            initSurvey();
        });

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–é—®å·
        document.addEventListener('DOMContentLoaded', initSurvey);
    </script>
</body>
</html>